import{a as S,b as le}from"./chunk-V5EPONB7.js";import{a as re}from"./chunk-KVYDP3SW.js";import{a as ce}from"./chunk-U2KI6PSQ.js";import{oa as B,y as j}from"./chunk-7MTF6NKY.js";import{a as ae}from"./chunk-NDAHUKLJ.js";import{a as te}from"./chunk-F6MBCUBG.js";import{v as ie,w as ne,y as oe}from"./chunk-NGUZVOSX.js";import{a as G}from"./chunk-GJJVJTXG.js";import"./chunk-CSO4ZWHK.js";import{A as q,B as J,H as Q,U,V as Y,W as $,ga as K,ha as X,ia as Z,t as V,wa as ee,z as H}from"./chunk-IBYGZ3TV.js";import{Ga as h,Ia as o,Ma as W,N as F,Ob as E,Qb as L,Ta as s,Tb as N,Ua as m,V as b,Va as d,W as T,Wa as k,Xa as I,Za as A,ab as C,cb as c,cc as R,fc as z,nb as r,oa as l,ob as M,pa as w,pb as y,ub as O,wb as x}from"./chunk-ICF7HI7T.js";import"./chunk-ENQRHBTS.js";var v=e=>({cursor:e});function se(e,n){if(e&1&&(r(0),r(1,`
                            `)),e&2){let i=c();y(`
                                `,i.totalNoOfCounts.depositAmountTotal||"0",`
                                `)}}function me(e,n){e&1&&d(0,"c-dropdown",29)}function de(e,n){if(e&1&&d(0,"c-chart",30),e&2){let i=c();o("data",i.data.primary)("options",i.options)}}function ge(e,n){if(e&1&&(r(0),r(1,`
                            `)),e&2){let i=c();y(`
                                `,i.totalNoOfCounts.depositApprovedCount||"0",`
                                `)}}function ue(e,n){e&1&&d(0,"c-dropdown",29)}function he(e,n){if(e&1&&d(0,"c-chart",30),e&2){let i=c();o("data",i.data.info)("options",i.options)}}function _e(e,n){if(e&1&&(r(0),r(1,`
                            `)),e&2){let i=c();y(`
                                `,i.totalNoOfCounts.depositRejectedCount||"0",`
                                `)}}function fe(e,n){e&1&&d(0,"c-dropdown",29)}function Ce(e,n){if(e&1&&d(0,"c-chart",30),e&2){let i=c();o("data",i.data.warning)("options",i.options)}}function ye(e,n){if(e&1&&(r(0),r(1,`
                            `)),e&2){let i=c();y(`
                                `,i.totalNoOfCounts.depositProcessingCount||"0",`
                                `)}}function Se(e,n){e&1&&d(0,"c-dropdown",29)}function we(e,n){if(e&1&&d(0,"c-chart",30),e&2){let i=c();o("data",i.data.danger)("options",i.options)}}function xe(e,n){if(e&1&&(r(0),r(1,`
                            `)),e&2){let i=c();y(`
                                `,i.totalNoOfCounts.withdrawalAmountTotal||"0",`
                                `)}}function ve(e,n){e&1&&d(0,"c-dropdown",29)}function Pe(e,n){if(e&1&&d(0,"c-chart",30),e&2){let i=c();o("data",i.data.primary)("options",i.options)}}function De(e,n){if(e&1&&(r(0),r(1,`
                            `)),e&2){let i=c();y(`
                                `,i.totalNoOfCounts.withdrawalApprovedCount||"0",`
                                `)}}function Me(e,n){e&1&&d(0,"c-dropdown",29)}function be(e,n){if(e&1&&d(0,"c-chart",30),e&2){let i=c();o("data",i.data.info)("options",i.options)}}function Te(e,n){if(e&1&&(r(0),r(1,`
                            `)),e&2){let i=c();y(`
                                `,i.totalNoOfCounts.withdrawalRejectedCount||"0",`
                                `)}}function We(e,n){e&1&&d(0,"c-dropdown",29)}function ke(e,n){if(e&1&&d(0,"c-chart",30),e&2){let i=c();o("data",i.data.warning)("options",i.options)}}function Ie(e,n){if(e&1&&(r(0),r(1,`
                            `)),e&2){let i=c();y(`
                                `,i.totalNoOfCounts.withdrawalProcessingCount||"0",`
                                `)}}function Ae(e,n){e&1&&d(0,"c-dropdown",29)}function Fe(e,n){if(e&1&&d(0,"c-chart",30),e&2){let i=c();o("data",i.data.danger)("options",i.options)}}function Oe(e,n){if(e&1){let i=A();k(0),s(1,"li",31)(2,"a",25),C("click",function(){let u=b(i).index,t=c();return T(t.currentDepositPage===u+1?null:t.handleDepositPagination(u+1))}),r(3),m()(),I()}if(e&2){let i=n.index,p=c();l(),o("active",p.currentDepositPage===i+1)("ngStyle",x(3,v,p.currentDepositPage===i+1?"":"pointer")),l(2),M(i+1)}}function Ee(e,n){if(e&1){let i=A();k(0),s(1,"li",31)(2,"a",25),C("click",function(){let u=b(i).index,t=c();return T(t.currentWithdrawalPage===u+1?null:t.handleWithdrawalPagination(u+1))}),r(3),m()(),I()}if(e&2){let i=n.index,p=c();l(),o("active",p.currentWithdrawalPage===i+1)("ngStyle",x(3,v,p.currentWithdrawalPage===i+1?"":"pointer")),l(2),M(i+1)}}var vt=(()=>{let n=class n{constructor(p,u,t,_,f,pe){this.toastrService=p,this.utilService=u,this.loaderService=t,this.transactionService=_,this.merchantService=f,this.route=pe,this.merchant="",this.depositFields=[],this.payoutsList=[],this.totalNoOfCounts={},this.deositeList=[],this.columnDefs=[],this.defaultColDef={filter:!0},this.rowSelection="multiple",this.paginationPageSize=10,this.paginationPageSizeSelector=[10,20,50],this.themeClass="ag-theme-quartz",this.totalDepositPages=1,this.currentDepositPage=1,this.totalWithdrawalPages=1,this.currentWithdrawalPage=1,this.context={componentParent:this},this.icons={cilOptions:B,cilArrowTop:j},this.data={},this.options={},this.labels=["January","February","March","April","May","June","July","August","September","October","November","December","January","February","March","April"],this.primary=[{label:"My First dataset",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:S("--cui-primary"),pointHoverBorderColor:S("--cui-primary"),data:[65,59,84,84,51,55,40]}],this.info=[{label:"My First dataset",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:S("--cui-info"),pointHoverBorderColor:S("--cui-info"),data:[65,59,84,84,51,55,40]}],this.warning=[{label:"My First dataset",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:S("--cui-warning"),pointHoverBorderColor:S("--cui-warning"),data:[65,59,84,84,51,55,40]}],this.danger=[{label:"My First dataset",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:S("--cui-danger"),pointHoverBorderColor:S("--cui-danger"),data:[65,59,84,84,51,55,40]}],this.optionsDefault={plugins:{legend:{display:!1}},maintainAspectRatio:!0,scales:{x:{grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:30,max:89,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1,tension:.4},point:{radius:4,hitRadius:10,hoverRadius:4}}},this.getMerchantSummary=g=>{let P=a=>{a&&a.success?a.data.merchant&&(this.merchant=a.data.merchant.merchantname,this.totalNoOfCounts=a.data):(this.toastrService.showError("Error!",a.message),this.utilService.goto("/404")),this.loaderService.hideLoader()},D=a=>{this.loaderService.hideLoader(),this.toastrService.showError("Error!",a.error&&a.error?.errors?.msg?a.error.errors.msg:"Error while fetching merchant."),this.utilService.goto("/404")};this.loaderService.showLoader(),this.merchantService.getMerchantSummaryById({merchantId:g},P,D)},this.onPaginationChanged=g=>{console.log("onPaginationPageLoaded")},this.onDepopsitGridReady=g=>{this.gridApi=g.api,this.getAllDeposite()},this.onWithdrawalGridReady=g=>{this.gridApi=g.api,this.getAllWithdrawal()},this.getAllDeposite=()=>{let g=a=>{this.loaderService.hideLoader(),a&&a.success&&a.data&&a.data.length&&(this.deositeList=a.data||[],this.currentDepositPage=a.currentPage,this.totalDepositPages=a.totalPages)},P=a=>{this.loaderService.hideLoader(),this.deositeList=[]};this.loaderService.showLoader();let D={merchantId:this.id,pageQuery:this.currentDepositPage,pageSize:this.paginationPageSize,type:"Deposit"};this.transactionService.getbyMerchantId(D,g,P)},this.handleDepositPagination=g=>{this.currentDepositPage=g,this.deositeList=[],this.getAllDeposite()},this.getAllWithdrawal=()=>{let g=a=>{this.loaderService.hideLoader(),a&&a.success&&a.data&&a.data.length&&(this.payoutsList=a.data||[],this.currentWithdrawalPage=a.currentPage,this.totalWithdrawalPages=a.totalPages)},P=a=>{this.loaderService.hideLoader(),this.payoutsList=[]};this.loaderService.showLoader();let D={pageQuery:this.currentWithdrawalPage,pageSize:this.paginationPageSize,type:"Withdrawal"};this.transactionService.getbyMerchantId(D,g,P)},this.handleWithdrawalPagination=g=>{this.currentWithdrawalPage=g,this.payoutsList=[],this.getAllWithdrawal()}}ngOnInit(){this.route.params.subscribe(p=>{p.id?(this.id=p.id,this.getMerchantSummary(p.id),this.makeTableDeposit()):(this.toastrService.showWarning("Warning!","You donot have permission to view this page!"),this.utilService.goto("/404"))}),this.data={primary:{labels:this.labels.slice(0,7),datasets:this.primary},info:{labels:this.labels.slice(0,7),datasets:this.info},warning:{labels:this.labels.slice(0,7),datasets:this.warning},danger:{labels:this.labels.slice(0,7),datasets:this.danger}},this.options=this.optionsDefault}makeTableDeposit(){this.columnDefs=[{headerName:"Merchant",valueFormatter:p=>`${p.node.data.merchantInfo.merchantname+"- ("+p.node.data.merchantInfo?.mode+")"||"-"}`,suppressMovable:!0},{headerName:"Amount",field:"amount",suppressMovable:!0},{headerName:"Status",field:"status",suppressMovable:!0}],this.getAllDeposite()}numSequence(p){return Array(p)}};n.\u0275fac=function(u){return new(u||n)(w(oe),w(te),w(G),w(ce),w(re),w(R))},n.\u0275cmp=F({type:n,selectors:[["app-merchant-summary"]],standalone:!0,features:[O],decls:94,vars:51,consts:[[1,"bg-light","dark:bg-transparent","d-flex","flex-row","align-items-center","mt-3"],["breakpoint","md"],[1,"justify-content-center","mb-3"],[1,"text-body-secondary"],[1,"g-4","mb-3","mt-1"],["xl","3","md","6","sm","6"],["color","primary",3,"title"],["cTemplateId","widgetValueTemplate"],["cTemplateId","widgetActionTemplate"],["cTemplateId","widgetChartTemplate"],["color","info",3,"title"],["color","warning",3,"title"],["color","danger",3,"title"],[1,"g-4","mb-3"],[1,"justify-content-center","mb-4"],[1,"justify-content-center"],["lg","12","xl","12"],[1,"example-wrapper"],[1,"example-header"],[1,"header-container"],[1,"left-header"],[1,"b-strong"],[1,"right-header"],["align","end","size","sm"],["cPageItem","",3,"disabled","ngStyle"],["cPageLink","",3,"click","routerLink"],[4,"ngFor","ngForOf"],[1,"data-table"],[2,"width","100%","height","350px",3,"paginationChanged","gridReady","columnDefs","defaultColDef","rowSelection","paginationPageSize","paginationPageSizeSelector","pagination","suppressPaginationPanel","suppressScrollOnNewData","rowData","context"],["alignment","end","variant","btn-group"],["height","50","type","line",1,"mt-3","mx-3",3,"data","options"],["cPageItem","",3,"active","ngStyle"]],template:function(u,t){u&1&&(s(0,"div",0)(1,"c-container",1)(2,"c-row",2)(3,"c-col")(4,"header")(5,"h1",3),r(6),m()(),s(7,"c-row",4)(8,"c-col",5)(9,"c-widget-stat-a",6),h(10,se,2,1,"ng-template",7)(11,me,1,0,"ng-template",8)(12,de,1,2,"ng-template",9),m()(),s(13,"c-col",5)(14,"c-widget-stat-a",10),h(15,ge,2,1,"ng-template",7)(16,ue,1,0,"ng-template",8)(17,he,1,2,"ng-template",9),m()(),s(18,"c-col",5)(19,"c-widget-stat-a",11),h(20,_e,2,1,"ng-template",7)(21,fe,1,0,"ng-template",8)(22,Ce,1,2,"ng-template",9),m()(),s(23,"c-col",5)(24,"c-widget-stat-a",12),h(25,ye,2,1,"ng-template",7)(26,Se,1,0,"ng-template",8)(27,we,1,2,"ng-template",9),m()()(),s(28,"c-row",13)(29,"c-col",5)(30,"c-widget-stat-a",6),h(31,xe,2,1,"ng-template",7)(32,ve,1,0,"ng-template",8)(33,Pe,1,2,"ng-template",9),m()(),s(34,"c-col",5)(35,"c-widget-stat-a",10),h(36,De,2,1,"ng-template",7)(37,Me,1,0,"ng-template",8)(38,be,1,2,"ng-template",9),m()(),s(39,"c-col",5)(40,"c-widget-stat-a",11),h(41,Te,2,1,"ng-template",7)(42,We,1,0,"ng-template",8)(43,ke,1,2,"ng-template",9),m()(),s(44,"c-col",5)(45,"c-widget-stat-a",12),h(46,Ie,2,1,"ng-template",7)(47,Ae,1,0,"ng-template",8)(48,Fe,1,2,"ng-template",9),m()()()()(),s(49,"c-row",14)(50,"c-col")(51,"c-card-group")(52,"c-card")(53,"c-card-body")(54,"c-row",15)(55,"c-col",16)(56,"div",17)(57,"div",18)(58,"div",19)(59,"div",20)(60,"h5",21),r(61,"Deposit "),m()(),s(62,"div",22)(63,"c-pagination",23)(64,"li",24)(65,"a",25),C("click",function(){return t.handleDepositPagination(t.currentDepositPage-1)}),r(66,"Previous"),m()(),h(67,Oe,4,5,"ng-container",26),s(68,"li",24)(69,"a",25),C("click",function(){return t.handleDepositPagination(t.currentDepositPage+1)}),r(70,"Next"),m()()()()()(),s(71,"div",27)(72,"ag-grid-angular",28),C("paginationChanged",function(f){return t.onPaginationChanged(f)})("gridReady",function(f){return t.onDepopsitGridReady(f)}),m()()()()()()(),s(73,"c-card")(74,"c-card-body")(75,"c-row",15)(76,"c-col",16)(77,"div",17)(78,"div",18)(79,"div",19)(80,"div",20)(81,"h5",21),r(82,"Withdrawal "),m()(),s(83,"div",22)(84,"c-pagination",23)(85,"li",24)(86,"a",25),C("click",function(){return t.handleWithdrawalPagination(t.currentWithdrawalPage-1)}),r(87,"Previous"),m()(),h(88,Ee,4,5,"ng-container",26),s(89,"li",24)(90,"a",25),C("click",function(){return t.handleWithdrawalPagination(t.currentWithdrawalPage+1)}),r(91,"Next"),m()()()()()(),s(92,"div",27)(93,"ag-grid-angular",28),C("paginationChanged",function(f){return t.onPaginationChanged(f)})("gridReady",function(f){return t.onWithdrawalGridReady(f)}),m()()()()()()()()()()()()),u&2&&(l(6),M(t.merchant),l(3),o("title","Total Deposit Amount"),l(5),o("title","Total Deposit Approved"),l(5),o("title","Total Deposit Rejected"),l(5),o("title","Total Deposit Processing"),l(6),o("title","Total Withdrawal Amount"),l(5),o("title","Total Withdrawal Approved"),l(5),o("title","Total Withdrawal Rejected"),l(5),o("title","Total Withdrawal Processing"),l(19),o("disabled",t.currentDepositPage===1)("ngStyle",x(43,v,t.currentDepositPage===1?"":"pointer")),l(3),o("ngForOf",t.numSequence(t.totalDepositPages)),l(),o("disabled",t.currentDepositPage===t.totalDepositPages)("ngStyle",x(45,v,t.currentDepositPage===t.totalDepositPages?"":"pointer")),l(4),W(t.themeClass),o("columnDefs",t.columnDefs)("defaultColDef",t.defaultColDef)("rowSelection",t.rowSelection)("paginationPageSize",t.paginationPageSize)("paginationPageSizeSelector",t.paginationPageSizeSelector)("pagination",!0)("suppressPaginationPanel",!0)("suppressScrollOnNewData",!0)("rowData",t.deositeList)("context",t.context),l(13),o("disabled",t.currentWithdrawalPage===1)("ngStyle",x(47,v,t.currentWithdrawalPage===1?"":"pointer")),l(3),o("ngForOf",t.numSequence(t.totalWithdrawalPages)),l(),o("disabled",t.currentWithdrawalPage===t.totalWithdrawalPages)("ngStyle",x(49,v,t.currentWithdrawalPage===t.totalWithdrawalPages?"":"pointer")),l(4),W(t.themeClass),o("columnDefs",t.columnDefs)("defaultColDef",t.defaultColDef)("rowSelection",t.rowSelection)("paginationPageSize",t.paginationPageSize)("paginationPageSizeSelector",t.paginationPageSizeSelector)("pagination",!0)("suppressPaginationPanel",!0)("suppressScrollOnNewData",!0)("rowData",t.payoutsList)("context",t.context))},dependencies:[ae,ee,le,Z,X,z,K,ie,N,E,L,ne,U,$,Y,J,H,q,Q,V],styles:[".example-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.example-wrapper[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.example-wrapper[_ngcontent-%COMP%]   .right-header[_ngcontent-%COMP%]{margin-left:10px}#myGrid[_ngcontent-%COMP%]{flex:1 1 0px;width:100%}.example-header[_ngcontent-%COMP%]{font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:13px;margin-bottom:5px}"]});let e=n;return e})();export{vt as MerchantSummaryComponent};
