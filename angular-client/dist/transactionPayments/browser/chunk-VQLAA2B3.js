import{a as U}from"./chunk-JWWHVUZO.js";import{a as F}from"./chunk-F6MBCUBG.js";import{a as M,d as B}from"./chunk-GJJVJTXG.js";import{F as O,G as j,H as R,I as L,b as G}from"./chunk-IBYGZ3TV.js";import{Ga as f,Ia as r,N as I,Pb as b,Ta as c,Tb as y,Ua as l,V as d,Va as u,W as _,X as m,Y as h,Za as v,ab as g,cb as s,cc as E,nb as C,oa as a,pa as D,ub as V,vb as S}from"./chunk-ICF7HI7T.js";var A=()=>({placement:"bottom-start"});function P(t,o){if(t&1){let e=v();c(0,"c-dropdown",2)(1,"button",3),m(),u(2,"svg",4),l(),h(),c(3,"ul",5)(4,"li")(5,"a",6),g("click",function(){d(e);let n=s(2);return _(n.buttonClicked("Approved"))}),C(6,"Approve"),l()(),c(7,"li")(8,"a",6),g("click",function(){d(e);let n=s(2);return _(n.buttonClicked("Rejected"))}),C(9,"Reject"),l()()()()}t&2&&(r("popperOptions",S(2,A)),a(),r("caret",!1))}function J(t,o){if(t&1&&(c(0,"div"),f(1,P,10,3,"c-dropdown",1),l()),t&2){let e=s();a(),r("ngIf",e.access.edit)}}function q(t,o){if(t&1){let e=v();c(0,"li")(1,"a",7),g("click",function(){d(e);let n=s(3);return _(n.buttonClicked("update"))}),m(),u(2,"svg",8),C(3,"Edit"),l()()}}function z(t,o){if(t&1){let e=v();c(0,"li")(1,"a",7),g("click",function(){d(e);let n=s(3);return _(n.buttonClicked("delete"))}),m(),u(2,"svg",9),C(3,"Delete"),l()()}}function K(t,o){if(t&1&&(c(0,"c-dropdown",2)(1,"button",3),m(),u(2,"svg",4),l(),h(),c(3,"ul",5),f(4,q,4,0,"li",0)(5,z,4,0,"li",0),l()()),t&2){let e=s(2);r("popperOptions",S(4,A)),a(),r("caret",!1),a(3),r("ngIf",e.access==null?null:e.access.edit),a(),r("ngIf",e.access==null?null:e.access.delete)}}function Q(t,o){if(t&1&&(c(0,"div"),f(1,K,6,5,"c-dropdown",1),l()),t&2){let e=s();a(),r("ngIf",e.access.edit)}}function W(t,o){if(t&1){let e=v();c(0,"a",11),g("click",function(){d(e);let n=s(3);return _(n.buttonClicked("update"))}),m(),u(1,"svg",8),l()}}function X(t,o){if(t&1){let e=v();c(0,"a",11),g("click",function(){d(e);let n=s(3);return _(n.buttonClicked("delete"))}),m(),u(1,"svg",9),l()}}function Y(t,o){if(t&1&&(c(0,"td"),f(1,W,2,0,"a",10)(2,X,2,0,"a",10),l()),t&2){let e=s(2);a(),r("ngIf",e.access==null?null:e.access.edit),a(),r("ngIf",e.access==null?null:e.access.delete)}}function Z(t,o){if(t&1&&(c(0,"div"),f(1,Y,3,2,"td",0),l()),t&2){let e=s();a(),r("ngIf",e.toggleData==null||e.toggleData.data==null?null:e.toggleData.data.isDeletable)}}function $(t,o){if(t&1){let e=v();c(0,"a",14),g("click",function(){d(e);let n=s(2);return _(n.buttonClicked("update"))}),m(),u(1,"svg",8),l()}}function ee(t,o){if(t&1){let e=v();c(0,"a",15),g("click",function(){d(e);let n=s(2);return _(n.buttonClicked("delete"))}),m(),u(1,"svg",9),l()}}function te(t,o){if(t&1&&(c(0,"div")(1,"td"),f(2,$,2,0,"a",12)(3,ee,2,0,"a",13),l()()),t&2){let e=s();a(2),r("ngIf",e.access==null?null:e.access.edit),a(),r("ngIf",e.access==null?null:e.access.delete)}}var me=(()=>{let o=class o{constructor(i,n,p,N){this.loaderService=i,this.route=n,this.utilService=p,this.localStorageService=N,this.access=null,this.accessModule=null,this.accessSubModule=null,this.currentUserRole=this.utilService.getCurrentUserRole(),this.paramsubscriptions=[];let H=this.route.data.subscribe(k=>{if(this.accessModule=k.module,this.accessSubModule=k.subModule,this.accessModule){let x=this.localStorageService.getValue("user")?.permissions?JSON.parse(this.localStorageService.getValue("user").permissions):U.permissionList;if(x&&x.length){let w=x.filter(T=>T.key===this.accessModule)[0];w&&w.submodule&&w.submodule.length?this.access=w.submodule.filter(T=>T.key===this.accessSubModule)[0].access:this.access=w.access,this.access=this.access[this.currentUserRole]}}});this.paramsubscriptions.push(H)}agInit(i){this.toggleData=i}refresh(i){return!0}buttonClicked(i){this.toggleData.onClick&&this.toggleData.onClick(this.toggleData.data,i)}ngOnInit(){}ngOnDestroy(){try{if(this.paramsubscriptions)for(let i=0;i<this.paramsubscriptions.length;i++)this.paramsubscriptions[i].unsubscribe()}catch(i){console.error(i)}try{this.params&&this.params.unsubscribe()}catch(i){console.error(i)}}};o.\u0275fac=function(n){return new(n||o)(D(M),D(E),D(F),D(B))},o.\u0275cmp=I({type:o,selectors:[["app-toggle-dropdown"]],inputs:{toggleData:"toggleData"},standalone:!0,features:[V],decls:4,vars:4,consts:[[4,"ngIf"],["variant","nav-item",3,"popperOptions",4,"ngIf"],["variant","nav-item",3,"popperOptions"],["cDropdownToggle","","aria-label","Open user menu",1,"py-0","pe-0",3,"caret"],["cIcon","","name","cilSettings",2,"height","2rem","width","2rem"],["cDropdownMenu","",1,"pt-0","w-auto"],["cDropdownItem","",3,"click"],["cDropdownItem","",2,"cursor","pointer","text-decoration","none",3,"click"],["cIcon","","name","cilPencil",1,"me-2"],["cIcon","","name","cilTrash",1,"me-2"],["style","cursor: pointer; text-decoration: none;",3,"click",4,"ngIf"],[2,"cursor","pointer","text-decoration","none",3,"click"],["title","Edit","style","cursor: pointer; text-decoration: none;",3,"click",4,"ngIf"],["title","Delete","style","cursor: pointer; text-decoration: none;",3,"click",4,"ngIf"],["title","Edit",2,"cursor","pointer","text-decoration","none",3,"click"],["title","Delete",2,"cursor","pointer","text-decoration","none",3,"click"]],template:function(n,p){n&1&&f(0,J,2,1,"div",0)(1,Q,2,1,"div",0)(2,Z,2,1,"div",0)(3,te,4,2,"div",0),n&2&&(r("ngIf",(p.toggleData==null||p.toggleData.data==null?null:p.toggleData.data.status)==="Processing"&&(p.toggleData==null?null:p.toggleData.specificId)==="toggleButton"),a(),r("ngIf",(p.toggleData==null?null:p.toggleData.specificId)==="actionToggleButton"),a(),r("ngIf",(p.toggleData==null?null:p.toggleData.specificId)==="roleButtons"),a(),r("ngIf",(p.toggleData==null?null:p.toggleData.specificId)==="actionButtons"))},dependencies:[y,b,R,j,O,L,G]});let t=o;return t})();export{me as a};
